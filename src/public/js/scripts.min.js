const URL="http://192.168.0.10:3333/api",util=(()=>{const e=[];let t=0;image=((n,o,a,r)=>{n.addEventListener("change",l=>{l.preventDefault(),n.closest("form").classList.add("changed");const s={large:["my-2","col-12"],medium:["my-2","col-6"],small:["my-2","col-3"]};if(!r&&!s[r])return console.log("Informe o tamanho entre (large, medium e small)");const i=o,c=[...n.files],d=n.files[0];if(n.closest(".custom-file").querySelector("label").innerHTML=c.length+" imagens","mult"===a)c.map(n=>{const a=document.createElement("div");a.classList.add("mb-2","col-sm-3"),a.innerHTML='\n                    <img class="img-thumbnail" src="">\n                    ';const r=a.querySelector("img");if(FileReader&&n){var l=new FileReader;return l.onload=function(){r.src=l.result},l.readAsDataURL(n),e.push(n),r.dataset.index=e.indexOf(n),1===e.length&&r.classList.add("active"),((e,n)=>{e.addEventListener("click",o=>{const a=e.dataset.index;return allImages=n.querySelectorAll("img"),Array.from(allImages).forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),t=parseInt(a),console.log(t)})})(r,o),i.append(a)}});else{const t=document.createElement("div");t.classList.add(...s[r]),t.innerHTML='\n                <img class="img-thumbnail" src="">\n                ';const n=t.querySelector("img");if(FileReader&&d){var u=new FileReader;return u.onload=function(){n.src=u.result},u.readAsDataURL(d),e[0]=d,i.innerHTML="",i.append(t)}}})});return{image:image,images:e,request:(e,t,n,o,a)=>new Promise((r,l)=>{const s=`Bearer ${document.body.dataset.token}`,i={};a&&(i["content-type"]=a);const c=o||null;n&&(i.authorization=s),fetch(`/api/${e}`,{method:t,headers:i,body:c}).then(e=>e.json()).then(e=>e.error?l(e.error):r(e)).catch(e=>l(e))}),scroll:e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})})},validateSlug:e=>e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/ /g,"_"),newRequest:e=>new Promise((t,n)=>{const o=document.body.dataset.token,{url:a,method:r,body:l,headers:s}=e,i={method:r||"GET",headers:{authorization:`Bearer ${o}`}};s&&(i.headers["content-type"]=s["content-type"]),l&&(i.body=l),fetch(a,i).then(e=>e.json()).then(e=>e.error?n(e.error):t(e)).catch(e=>n(e))})}})(),allprods=document.querySelector(".nav-link.dropdown-toggle"),hoverMenu=document.querySelector(".nav-item.dropdown");hoverMenu&&(hoverMenu.onmouseover=(()=>{document.querySelector(".nav-item.dropdown > ul").classList.add("show")}),hoverMenu.onmouseout=(()=>{document.querySelector(".nav-item.dropdown > ul").classList.remove("show")})),allprods&&allprods.addEventListener("click",function(e){e.preventDefault(),url=allprods.getAttribute("href"),window.matchMedia("(min-width:800px)").matches&&(window.location.href=url)});const btnValidat=document.querySelector(".btnAnchor");btnValidat&&util.scroll(btnValidat),function(){"use strict";window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(e){e.addEventListener("submit",t=>{!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})},!1)}();